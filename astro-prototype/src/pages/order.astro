---
import BaseLayout from '../layouts/BaseLayout.astro';
import PageHeader from '../components/ui/PageHeader.astro';
import CTASection from '../components/ui/CTASection.astro';
import GoogleFormEmbed from '../components/forms/GoogleFormEmbed.astro';
import { getFeaturedMenu } from '../data/menus';

const featuredMenu = getFeaturedMenu();
const googleFormUrl = 'https://docs.google.com/forms/d/e/1FAIpQLSf_VXJVtlP_7VwEm6qwcfbmFA719NcxRj-Rs8WCRxmUYEDqDg/viewform';
---

<BaseLayout 
  title="Place Your Order" 
  description="Order custom cookies, cakes, and seasonal treats from Thymeless Treats Bakery. Fill out our form to get started!"
>
  <PageHeader 
    title="Ready to Order?"
    subtitle="Let's make your celebration sweeter!"
  />

  <div class="order-container">
    <!-- Status Banner -->
    <div class="status-banner">
      <h2>üíù {featuredMenu.title} Orders Now Open!</h2>
      <p>Order early to secure your dates ‚Äî orders must be placed at least 5 days in advance.</p>
    </div>

    <!-- How to Order -->
    <section class="how-to-order">
      <h2>How to Order</h2>
      <p class="intro">Pick what works best for you! Browse our menus for ideas, then fill out the order form below.</p>
      
      <div class="order-options">
        <a href="/holidays/" class="option-card">
          <div class="option-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20"></path>
              <line x1="12" y1="6" x2="12" y2="10"></line>
              <line x1="10" y1="8" x2="14" y2="8"></line>
            </svg>
          </div>
          <h3 class="option-title">Seasonal Menus</h3>
          <p class="option-description">Browse our current offerings with photos and pricing for each season.</p>
          <span class="option-link">View Menus ‚Üí</span>
        </a>

        <a href="/cookies/" class="option-card">
          <div class="option-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <circle cx="12" cy="12" r="10"></circle>
              <circle cx="8" cy="9" r="1" fill="currentColor"></circle>
              <circle cx="15" cy="8" r="1" fill="currentColor"></circle>
              <circle cx="10" cy="14" r="1" fill="currentColor"></circle>
              <circle cx="16" cy="13" r="1" fill="currentColor"></circle>
              <circle cx="12" cy="11" r="1" fill="currentColor"></circle>
            </svg>
          </div>
          <h3 class="option-title">Custom Cookies</h3>
          <p class="option-description">Planning a birthday, shower, or special event? We create custom designs!</p>
          <span class="option-link">Learn More ‚Üí</span>
        </a>

        <a href="/cakes/" class="option-card">
          <div class="option-icon">
            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round">
              <path d="M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8"></path>
              <path d="M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1"></path>
              <path d="M2 21h20"></path>
              <path d="M7 8v3"></path>
              <path d="M12 8v3"></path>
              <path d="M17 8v3"></path>
              <path d="M7 4h.01"></path>
              <path d="M12 4h.01"></path>
              <path d="M17 4h.01"></path>
            </svg>
          </div>
          <h3 class="option-title">Custom Cakes</h3>
          <p class="option-description">Celebrate with a beautiful custom cake designed just for your occasion.</p>
          <span class="option-link">View Gallery ‚Üí</span>
        </a>
      </div>
    </section>

    <!-- Order Form Section -->
    <section class="order-form-section" id="order-form">
      <h2>Place Your Order</h2>
      <p class="intro">Fill out the form below and I'll get back to you within 24 hours with availability and pricing!</p>
      
      <GoogleFormEmbed 
        formUrl={googleFormUrl}
        title="Thymeless Treats Order Form"
        height="1200px"
      />
    </section>

    <!-- What to Expect -->
    <section class="what-to-expect">
      <h2>What Happens Next?</h2>
      <div class="steps-grid">
        <div class="step">
          <div class="step-number">1</div>
          <h3>Submit Your Request</h3>
          <p>Fill out the form with your details and what you'd like to order.</p>
        </div>
        <div class="step">
          <div class="step-number">2</div>
          <h3>Get a Quote</h3>
          <p>I'll review your request and send you pricing within 24 hours.</p>
        </div>
        <div class="step">
          <div class="step-number">3</div>
          <h3>Confirm & Pay</h3>
          <p>Once you approve, a 50% deposit secures your order date.</p>
        </div>
        <div class="step">
          <div class="step-number">4</div>
          <h3>Pickup Your Treats!</h3>
          <p>Pick up your fresh-baked goodies on your scheduled date.</p>
        </div>
      </div>
    </section>
  </div>

  <CTASection 
    title="Questions?"
    subtitle="Not sure what to order? Have dietary restrictions? Just want to chat? I'd love to hear from you!"
    primaryText="Contact Me"
    primaryHref="/contact/"
    variant="cream"
  />
</BaseLayout>

<style>
  .order-container {
    max-width: 1000px;
    margin: 0 auto;
    padding: 0 var(--space-lg);
  }

  /* Status Banner */
  .status-banner {
    background: linear-gradient(135deg, var(--sage) 0%, var(--sage-dark) 100%);
    color: var(--white);
    padding: var(--space-xl) var(--space-2xl);
    border-radius: 16px;
    text-align: center;
    margin-bottom: var(--space-3xl);
    box-shadow: var(--shadow-medium);
  }

  .status-banner h2 {
    font-family: var(--font-heading);
    font-size: clamp(1.5rem, 4vw, 2rem);
    margin-bottom: var(--space-sm);
    color: var(--white);
  }

  .status-banner p {
    font-size: 1.0625rem;
    margin: 0;
    opacity: 0.95;
    max-width: none;
  }

  /* Section Styling */
  section {
    margin-bottom: var(--space-3xl);
  }

  section h2 {
    font-family: var(--font-heading);
    font-size: clamp(1.75rem, 4vw, 2.25rem);
    color: var(--charcoal);
    text-align: center;
    margin-bottom: var(--space-md);
  }

  .intro {
    text-align: center;
    color: var(--warm-gray);
    max-width: 600px;
    margin: 0 auto var(--space-2xl);
    font-size: 1.0625rem;
  }

  /* Order Options Grid */
  .order-options {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    gap: var(--space-xl);
  }

  /* Option Cards - Custom Design */
  .option-card {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    padding: var(--space-2xl) var(--space-xl);
    background: var(--white);
    border: 2px solid var(--sage-light);
    border-radius: 16px;
    text-decoration: none;
    color: inherit;
    transition: all var(--transition-smooth);
  }

  .option-card:hover {
    border-color: var(--sage);
    transform: translateY(-4px);
    box-shadow: var(--shadow-medium);
  }

  .option-icon {
    width: 64px;
    height: 64px;
    display: flex;
    align-items: center;
    justify-content: center;
    background: var(--sage-light);
    border-radius: 50%;
    color: var(--sage-dark);
    margin-bottom: var(--space-lg);
    transition: all var(--transition-smooth);
  }

  .option-card:hover .option-icon {
    background: var(--sage);
    color: var(--white);
  }

  .option-title {
    font-family: var(--font-heading);
    font-size: 1.375rem;
    font-weight: 600;
    color: var(--charcoal);
    margin: 0 0 var(--space-sm) 0;
  }

  .option-description {
    font-size: 0.9375rem;
    color: var(--warm-gray);
    line-height: 1.6;
    margin: 0 0 var(--space-lg) 0;
    flex-grow: 1;
  }

  .option-link {
    font-family: var(--font-body);
    font-size: 0.9375rem;
    font-weight: 500;
    color: var(--sage-dark);
    transition: color var(--transition-smooth);
  }

  .option-card:hover .option-link {
    color: var(--sage);
  }

  /* Order Form Section */
  .order-form-section {
    padding-top: var(--space-xl);
  }

  /* Steps Grid */
  .steps-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: var(--space-xl);
  }

  .step {
    text-align: center;
    padding: var(--space-lg);
  }

  .step-number {
    width: 50px;
    height: 50px;
    background: var(--sage);
    color: var(--white);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-family: var(--font-heading);
    font-size: 1.5rem;
    font-weight: 700;
    margin: 0 auto var(--space-md);
  }

  .step h3 {
    font-family: var(--font-heading);
    font-size: 1.25rem;
    color: var(--charcoal);
    margin-bottom: var(--space-sm);
  }

  .step p {
    color: var(--warm-gray);
    font-size: 0.9375rem;
    max-width: none;
  }

  /* What to Expect Background */
  .what-to-expect {
    background: var(--cream);
    margin-left: calc(-1 * var(--space-lg));
    margin-right: calc(-1 * var(--space-lg));
    padding: var(--space-3xl) var(--space-lg);
    border-radius: 0;
  }

  @media (min-width: 1000px) {
    .what-to-expect {
      margin-left: calc(-50vw + 500px - var(--space-lg));
      margin-right: calc(-50vw + 500px - var(--space-lg));
      padding-left: calc(50vw - 500px + var(--space-lg));
      padding-right: calc(50vw - 500px + var(--space-lg));
    }
  }
</style>
