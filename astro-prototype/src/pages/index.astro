---
import BaseLayout from '../layouts/BaseLayout.astro';
import FeaturedSection from '../components/FeaturedSection.astro';
import CategoryCards from '../components/CategoryCards.astro';
import CTASection from '../components/ui/CTASection.astro';
import { getFeaturedMenu, siteInfo } from '../data';

// Get the featured menu dynamically
const featuredMenu = getFeaturedMenu();

const categoryCards = [
  {
    title: "Holiday Collection",
    description: "Thanksgiving, Christmas, Easter, and more seasonal treats",
    image: "/assets/img/headers/home/christmasCookies.jpg",
    link: "/holidays/",
    linkText: "View Holiday Menus →"
  },
  {
    title: "Cookies",
    description: "Buttercream sugar cookies, chocolate chip, and more",
    image: "/assets/img/homepageCookie.jpg",
    link: "/cookies/",
    linkText: "See Cookie Options →"
  },
  {
    title: "Custom Cakes",
    description: "Beautiful cakes for birthdays and celebrations",
    image: "/assets/img/homepageCake.jpg",
    link: "/cakes/",
    linkText: "View Cake Gallery →"
  },
  {
    title: "Gifts & Party Favors",
    description: "Teacher boxes and party favor packs",
    image: "/assets/img/teacher-box.jpg",
    link: "/gifts/",
    linkText: "Browse Gift Ideas →"
  }
];
---

<BaseLayout title="Home" description={siteInfo.description}>
  
  <!-- Hero Section -->
  <section class="hero-section">
    <div class="hero-content">
      <h1>{siteInfo.name}</h1>
      <p class="hero-tagline">{siteInfo.tagline}</p>
    </div>
  </section>
  
  <!-- Featured Menu Section -->
  {featuredMenu && (
    <FeaturedSection 
      title="Featured This Season"
      menuLink={`/${featuredMenu.slug}/`}
      menuImage={featuredMenu.headerImage || '/assets/img/valentines/menu1.jpg'}
      menuAlt={`${featuredMenu.title} - Order Now`}
      ctaText={`Order ${featuredMenu.title}`}
    />
  )}
  
  <!-- Browse Categories -->
  <section class="browse-section">
    <h2>Browse Our Menu</h2>
    <CategoryCards cards={categoryCards} />
  </section>
  
  <!-- CTA Section -->
  <CTASection 
    title="Ready to Order?"
    subtitle="Browse our gallery or start a custom order inquiry!"
    primaryText="View Gallery"
    primaryHref="/gallery/"
    secondaryText="Place Order"
    secondaryHref="/order/"
    variant="sage"
  />
  
</BaseLayout>

<style>
  .hero-section {
    position: relative;
    min-height: 60vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background: linear-gradient(
      135deg,
      rgba(251, 248, 243, 0.95) 0%,
      rgba(251, 248, 243, 0.90) 50%,
      rgba(251, 248, 243, 0.95) 100%
    ),
    url('/assets/img/bridalShower.jpg');
    background-size: cover;
    background-position: center;
    text-align: center;
    padding: var(--space-3xl) var(--space-lg);
  }
  
  .hero-content h1 {
    margin-bottom: var(--space-md);
  }
  
  .hero-tagline {
    font-family: 'Caveat', cursive;
    font-size: 1.75rem;
    color: var(--sage);
  }
  
  .browse-section {
    max-width: 1200px;
    margin: 0 auto;
    padding: var(--space-3xl) var(--space-lg);
    text-align: center;
  }
  
  .browse-section h2 {
    margin-bottom: var(--space-2xl);
  }
</style>
